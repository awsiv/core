CFENGINE 3 ENTERPRISE 2.2.2
CFEngine has renamed CFEngine 3 Nova to CFEngine 3 Enterprise
RELEASE DATE: August 2012
SCOPE 2.2.2: Minor bugfix release to Enterprise 2.2.1 
SCOPE 2.2.1: Minor bugfix release to Enterprise 2.2.0 
SCOPE 2.2.0: Official release of CFEngine 3 Enterprise (successor to CFEngine Nova 2.1.3)
All documentation for 2.2.0 and 2.2.1 will apply to 2.2.2, except issues noted in change log and known issues below.

----------------------------------------------------------------------------
 TABLE OF CONTENTS:
 PLATFORMS SUPPORTED
 COMPATIBILITY MATRIX
 CHANGE LOG FROM 2.2.1
 BUGFIXES SINCE 2.2.1
 BUGFIXES SINCE 2.2.0
 CHANGE LOG FROM 2.1.3
 BUGFIXES SINCE 2.1.3
 HARDWARE REQUIREMENTS
 INSTALLATION AND UPGRADE (see separate INSTALL file)
 SOFTWARE DEPENDENCIES
 KNOWN ISSUES
 IMPORTANT NOTICE FOR NEXT MAJOR RELEASE (CFENGINE 3 ENTERPRISE 3.0)
----------------------------------------------------------------------------


PLATFORMS SUPPORTED:
CFEngine 3 Free Enterprise is only available for Linux Operating Systems (both hub and client). Commercial CFEngine 3 Enterprise customers have access to all the following Operating Systems:

Hub:
NAME		VERSION					ARCHITECTURE
Debian 		6 					i686,x86-64
Ubuntu 		8.04, 10.04, 12.04 			i686,x86-64
RHEL 		5					i686,x86-64

Clients:
NAME:		VERSION					ARCHITECTURE		COMMENT
AIX		5.3, 6.1 				power 			No libvirt
CentOS		5, 6 					i686,x86-64
Debian 		5, 6 					i686,x86-64
Fedora 		14, 15, 16 				i686,x86-64
FreeBSD 	7, 8 					i686,amd64		No libvirt
HP-UX										Contact your sales representative
NetBSD 		4.0, 5.0 				i686,amd64		No libvirt
NetBSD 		5.1 					i686,x86-64		No libvirt
openSUSE 	10.2, 10.3, 11.1, 11.2, 11.3, 11.4 	i686,x86-64
RHEL 		4, 5, 6 				i686,x86-64
SLES 		9, 10, 11 				i686,x86-64
SLES 		10, 11 					s390x
SUSE Linux 	9.1, 9.2, 9.3, 10.0, 10.1 		i686,x86-64
Solaris		8, 9, 10 				sparc	 		No libvirt
Solaris 	10 					i86pc	 		No libvirt
Ubuntu 		8.04, 8.10, 9.04, 9.10, 10.04, 10.10, 11.04, 11.10, 12.04 (i686,x86-64)
Windows 	XP, Vista, 7, Server 2003, Server 2008 	x86,x64			No libvirt, OpenSSL is not FIPS-enabled

Community version base: 3.3.6


COMPATIBILITY MATRIX: 
HUB	CLIENT		TESTED		SUPPORTED	COMMENT
2.2.2	2.2.x		Yes		Yes
2.2.2	2.1.x		Yes		Yes		Bundle compliance report not compatible
2.2.x	2.0.x		Yes		Yes		Vital signs not complete, Bundle compliance report not compatible
2.1.x	2.2.x		Yes		No		Always use a same or newer version of hub than client
2.0.x	2.2.x		Yes		No		Always use a same or newer version of hub than client

As always, test thoroughly in your lab before upgrading production environments!

CHANGE LOG FROM 2.2.1:
* Rename Engineering room to Status and Reports room
* Make the display of the Business and Planning rooms configurable (option to show or hide rooms)

BUGFIXES SINCE 2.2.1:
* Fixes for segmentation faults caused by destroying empty bson objects
* Increase robustness in case of corrupted local databases
* Close a memory leak in knowledge map generation
* Close a memory leak in custom measurement promises
* Close memory leaks in cf-monitord
* Properly adjust to timezones when time-range is specified for reports
* REST API improvements to list hosts by context regular expression and filter by name
* Support exporting of reports when only hostnames are reported
* Fixes for Internet Explorer 8-specific bugs
* Purge software report data with invalid timestamps during db maintenance
* Include software dates data in delta reports
* Add explanatory text when software reports are empty
* Add explanatory text to bundle reports for old agents being skipped
* Various fixes to the CFEngine update process
* Various UI fixes and usability improvements


BUGFIXES SINCE 2.2.0:
* Navigation Tree usability fixes (renaming of nodes, reloading of tree)
* Include reports older than the blue-host threshold when determining host's last-known state
* Fix warnings from bson library during hub-maintenance cycle
* Maintain roles data when upgrading hub from 2.1.x
* Various fixes in the variable reports
* Prevent JavaScript error when switching to production environment
* Recognize users authenticated by ActiveDirectory
* UI fixes for resized and small displays
* Fix SEGBUS in agents running on Solaris with SPARC architecture
* Various fixes for the vital signs


CHANGE LOG FROM 2.1.3:
* Introduction of Role Based Access Control (RBAC) to Mission Portal
* REST API giving read access to most reporting data available in the Mission Portal
* New host category: black (hosts that failed to execute their agents for the last three scheduled rounds)
* Redesign of Engineering Room
    - Host Navigation Tree which allows grouping of hosts, which in turn influences the content on the remainder of the page.
    - Tabulated Status and Reports section
    - Changed Status Summary graph from promise compliance to host compliance for selected context
    - Removal of Report finders, functionality switched to drop-down menus found in Reports tab
    - Some reports have been renamed (Bundle profile, 
    - New Bundle Compliance Summary Report which classifies hosts into red/yellow/green/blue/black groups according to bundle compliance
    - New Promise Compliance Summary Report which classifies hosts into red/yellow/green/blue/black groups according to promise compliance
* Advanced class context filter allowing includes and excludes regular expressions from within reports
* Export reports to CSV from Mission Portal
* Ability to configure the time horizon for which a host is classified as blue (cannot be reached by hub)
* Knowledge Map enhancements to increase usability and ease of use
* More diagnostics on report collection from cf-hub. 
* Software and variable report now contains end-node discovery time.
* Software and patches available/status reports contain maximum 5-minute old data, improved from 6 hours in last release.
* Performance improvement of Software report query
* Upgraded mongodb from version 1.8.2 to 2.0.4, which increases efficiency on concurrency and reduces memory usage.
* New function hostswithclass() that generates a list of hosts in a given class on the hub.
* The bundled failsafe.cf policy now has trustkey=false to avoid IP spoofing attacks in default policy
* Removal of notes from reports


BUGFIXES SINCE 2.1.3:
* Fixed issue where client would show as green in the Mission Portal when no data was received, e.g. due to access or license error at client. Now correctly shows as blue in these cases.
* Various bugfixes. See https://cfengine.com/bugtracker/changelog_page.php for change log related to the CFEngine Community Core (versions 3.2.4 to 3.3.3).


INSTALLATION AND UPGRADE:
See separate INSTALL file for instructions.


KNOWN ISSUES:
* Software and patches available/status reports containing maximum 5-minute old data: will only apply to clients that are upgraded to 2.2.x.
* Compliance by bundle reports are incompatible with older clients (CFEngine Nova 2.1.4 and down). Data with a timestamp prior to upgrade to 2.2.x will not be shown in the reports.
* Verbose output in command line interface (CLI) still indicates that you are using CFEngine 3 Nova (i.e. the CLI prefixes the verbose output with "nova> [MESSAGE]". See message for next release below.


IMPORTANT NOTICE FOR NEXT MAJOR RELEASE (CFENGINE 3 ENTERPRISE 3.0):
CFEngine will change the behavior of the command line interface verbose output from "nova> [MESSAGE]" to "enterprise [MESSAGE]" for the next version of CFEngine 3 Enterprise. Please make necessary preparations for this as to not break functionality that depends on these messages (email filters, post-processing scripts, etc.).

